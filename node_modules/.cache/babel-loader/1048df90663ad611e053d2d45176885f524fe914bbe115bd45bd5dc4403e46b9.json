{"ast":null,"code":"import { checkRequired, createValidator, createValidatorAsync, isEmpty, formatErrorMessage } from './utils';\nimport locales from './locales';\nexport var MixedType = /*#__PURE__*/function () {\n  function MixedType(name) {\n    this.typeName = void 0;\n    this.required = false;\n    this.requiredMessage = '';\n    this.trim = false;\n    this.emptyAllowed = false;\n    this.rules = [];\n    this.priorityRules = [];\n    this.schemaSpec = void 0;\n    this.value = void 0;\n    this.locale = void 0;\n    this.typeName = name;\n    this.locale = Object.assign(name ? locales[name] : {}, locales.mixed);\n  }\n  var _proto = MixedType.prototype;\n  _proto.setSchemaOptions = function setSchemaOptions(schemaSpec, value) {\n    this.schemaSpec = schemaSpec;\n    this.value = value;\n  };\n  _proto.check = function check(value, data, fieldName) {\n    if (value === void 0) {\n      value = this.value;\n    }\n    if (this.required && !checkRequired(value, this.trim, this.emptyAllowed)) {\n      return {\n        hasError: true,\n        errorMessage: formatErrorMessage(this.requiredMessage, {\n          name: fieldName\n        })\n      };\n    }\n    var validator = createValidator(data, fieldName);\n    var checkStatus = validator(value, this.priorityRules);\n    if (checkStatus) {\n      return checkStatus;\n    }\n    if (!this.required && isEmpty(value)) {\n      return {\n        hasError: false\n      };\n    }\n    return validator(value, this.rules) || {\n      hasError: false\n    };\n  };\n  _proto.checkAsync = function checkAsync(value, data, fieldName) {\n    var _this = this;\n    if (value === void 0) {\n      value = this.value;\n    }\n    if (this.required && !checkRequired(value, this.trim, this.emptyAllowed)) {\n      return Promise.resolve({\n        hasError: true,\n        errorMessage: formatErrorMessage(this.requiredMessage, {\n          name: fieldName\n        })\n      });\n    }\n    var validator = createValidatorAsync(data, fieldName);\n    return new Promise(function (resolve) {\n      return validator(value, _this.priorityRules).then(function (checkStatus) {\n        if (checkStatus) {\n          resolve(checkStatus);\n        }\n      }).then(function () {\n        if (!_this.required && isEmpty(value)) {\n          resolve({\n            hasError: false\n          });\n        }\n      }).then(function () {\n        return validator(value, _this.rules);\n      }).then(function (checkStatus) {\n        if (checkStatus) {\n          resolve(checkStatus);\n        }\n        resolve({\n          hasError: false\n        });\n      });\n    });\n  };\n  _proto.pushRule = function pushRule(rule) {\n    var _this$rules, _this$rules$;\n    var onValid = rule.onValid,\n      errorMessage = rule.errorMessage,\n      priority = rule.priority,\n      params = rule.params;\n    var nextRule = {\n      onValid: onValid,\n      params: params,\n      errorMessage: errorMessage || ((_this$rules = this.rules) === null || _this$rules === void 0 ? void 0 : (_this$rules$ = _this$rules[0]) === null || _this$rules$ === void 0 ? void 0 : _this$rules$.errorMessage)\n    };\n    if (priority) {\n      this.priorityRules.push(nextRule);\n    } else {\n      this.rules.push(nextRule);\n    }\n  };\n  _proto.addRule = function addRule(onValid, errorMessage, priority) {\n    this.pushRule({\n      onValid: onValid,\n      errorMessage: errorMessage,\n      priority: priority\n    });\n    return this;\n  };\n  _proto.isRequired = function isRequired(errorMessage, trim) {\n    if (errorMessage === void 0) {\n      errorMessage = this.locale.isRequired;\n    }\n    if (trim === void 0) {\n      trim = true;\n    }\n    this.required = true;\n    this.trim = trim;\n    this.requiredMessage = errorMessage;\n    return this;\n  };\n  _proto.isRequiredOrEmpty = function isRequiredOrEmpty(errorMessage, trim) {\n    if (errorMessage === void 0) {\n      errorMessage = this.locale.isRequiredOrEmpty;\n    }\n    if (trim === void 0) {\n      trim = true;\n    }\n    this.required = true;\n    this.trim = trim;\n    this.emptyAllowed = true;\n    this.requiredMessage = errorMessage;\n    return this;\n  }\n  /**\n   * Define data verification rules based on conditions.\n   * @param validator\n   * @example\n   * MixedType().when(schema => {\n   *   return schema.filed1.check() ? NumberType().min(5) : NumberType().min(0);\n   * });\n   */;\n\n  _proto.when = function when(condition) {\n    var _this2 = this;\n    this.addRule(function (value, data, filedName) {\n      return condition(_this2.schemaSpec).check(value, data, filedName);\n    }, undefined, true);\n    return this;\n  };\n  return MixedType;\n}();\nexport default function getMixedType() {\n  return new MixedType();\n}","map":{"version":3,"names":["checkRequired","createValidator","createValidatorAsync","isEmpty","formatErrorMessage","locales","MixedType","name","typeName","required","requiredMessage","trim","emptyAllowed","rules","priorityRules","schemaSpec","value","locale","Object","assign","mixed","_proto","prototype","setSchemaOptions","check","data","fieldName","hasError","errorMessage","validator","checkStatus","checkAsync","_this","Promise","resolve","then","pushRule","rule","_this$rules","_this$rules$","onValid","priority","params","nextRule","push","addRule","isRequired","isRequiredOrEmpty","when","condition","_this2","filedName","undefined","getMixedType"],"sources":["/Users/ethanpineda/Desktop/Personal-Projects/Ethan-main/node_modules/schema-typed/es/MixedType.js"],"sourcesContent":["import { checkRequired, createValidator, createValidatorAsync, isEmpty, formatErrorMessage } from './utils';\nimport locales from './locales';\nexport var MixedType = /*#__PURE__*/function () {\n  function MixedType(name) {\n    this.typeName = void 0;\n    this.required = false;\n    this.requiredMessage = '';\n    this.trim = false;\n    this.emptyAllowed = false;\n    this.rules = [];\n    this.priorityRules = [];\n    this.schemaSpec = void 0;\n    this.value = void 0;\n    this.locale = void 0;\n    this.typeName = name;\n    this.locale = Object.assign(name ? locales[name] : {}, locales.mixed);\n  }\n\n  var _proto = MixedType.prototype;\n\n  _proto.setSchemaOptions = function setSchemaOptions(schemaSpec, value) {\n    this.schemaSpec = schemaSpec;\n    this.value = value;\n  };\n\n  _proto.check = function check(value, data, fieldName) {\n    if (value === void 0) {\n      value = this.value;\n    }\n\n    if (this.required && !checkRequired(value, this.trim, this.emptyAllowed)) {\n      return {\n        hasError: true,\n        errorMessage: formatErrorMessage(this.requiredMessage, {\n          name: fieldName\n        })\n      };\n    }\n\n    var validator = createValidator(data, fieldName);\n    var checkStatus = validator(value, this.priorityRules);\n\n    if (checkStatus) {\n      return checkStatus;\n    }\n\n    if (!this.required && isEmpty(value)) {\n      return {\n        hasError: false\n      };\n    }\n\n    return validator(value, this.rules) || {\n      hasError: false\n    };\n  };\n\n  _proto.checkAsync = function checkAsync(value, data, fieldName) {\n    var _this = this;\n\n    if (value === void 0) {\n      value = this.value;\n    }\n\n    if (this.required && !checkRequired(value, this.trim, this.emptyAllowed)) {\n      return Promise.resolve({\n        hasError: true,\n        errorMessage: formatErrorMessage(this.requiredMessage, {\n          name: fieldName\n        })\n      });\n    }\n\n    var validator = createValidatorAsync(data, fieldName);\n    return new Promise(function (resolve) {\n      return validator(value, _this.priorityRules).then(function (checkStatus) {\n        if (checkStatus) {\n          resolve(checkStatus);\n        }\n      }).then(function () {\n        if (!_this.required && isEmpty(value)) {\n          resolve({\n            hasError: false\n          });\n        }\n      }).then(function () {\n        return validator(value, _this.rules);\n      }).then(function (checkStatus) {\n        if (checkStatus) {\n          resolve(checkStatus);\n        }\n\n        resolve({\n          hasError: false\n        });\n      });\n    });\n  };\n\n  _proto.pushRule = function pushRule(rule) {\n    var _this$rules, _this$rules$;\n\n    var onValid = rule.onValid,\n        errorMessage = rule.errorMessage,\n        priority = rule.priority,\n        params = rule.params;\n    var nextRule = {\n      onValid: onValid,\n      params: params,\n      errorMessage: errorMessage || ((_this$rules = this.rules) === null || _this$rules === void 0 ? void 0 : (_this$rules$ = _this$rules[0]) === null || _this$rules$ === void 0 ? void 0 : _this$rules$.errorMessage)\n    };\n\n    if (priority) {\n      this.priorityRules.push(nextRule);\n    } else {\n      this.rules.push(nextRule);\n    }\n  };\n\n  _proto.addRule = function addRule(onValid, errorMessage, priority) {\n    this.pushRule({\n      onValid: onValid,\n      errorMessage: errorMessage,\n      priority: priority\n    });\n    return this;\n  };\n\n  _proto.isRequired = function isRequired(errorMessage, trim) {\n    if (errorMessage === void 0) {\n      errorMessage = this.locale.isRequired;\n    }\n\n    if (trim === void 0) {\n      trim = true;\n    }\n\n    this.required = true;\n    this.trim = trim;\n    this.requiredMessage = errorMessage;\n    return this;\n  };\n\n  _proto.isRequiredOrEmpty = function isRequiredOrEmpty(errorMessage, trim) {\n    if (errorMessage === void 0) {\n      errorMessage = this.locale.isRequiredOrEmpty;\n    }\n\n    if (trim === void 0) {\n      trim = true;\n    }\n\n    this.required = true;\n    this.trim = trim;\n    this.emptyAllowed = true;\n    this.requiredMessage = errorMessage;\n    return this;\n  }\n  /**\n   * Define data verification rules based on conditions.\n   * @param validator\n   * @example\n   * MixedType().when(schema => {\n   *   return schema.filed1.check() ? NumberType().min(5) : NumberType().min(0);\n   * });\n   */\n  ;\n\n  _proto.when = function when(condition) {\n    var _this2 = this;\n\n    this.addRule(function (value, data, filedName) {\n      return condition(_this2.schemaSpec).check(value, data, filedName);\n    }, undefined, true);\n    return this;\n  };\n\n  return MixedType;\n}();\nexport default function getMixedType() {\n  return new MixedType();\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}