{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport formatErrorMessage from './formatErrorMessage';\n/**\n * Create a data asynchronous validator\n * @param data\n */\n\nexport function createValidatorAsync(data, name) {\n  function check(errorMessage) {\n    return function (checkResult) {\n      if (checkResult === false) {\n        return {\n          hasError: true,\n          errorMessage: errorMessage\n        };\n      } else if (typeof checkResult === 'object' && (checkResult.hasError || checkResult.array)) {\n        return checkResult;\n      }\n      return null;\n    };\n  }\n  return function (value, rules) {\n    var promises = rules.map(function (rule) {\n      var onValid = rule.onValid,\n        errorMessage = rule.errorMessage,\n        params = rule.params;\n      return Promise.resolve(onValid(value, data, name)).then(check(formatErrorMessage(errorMessage, _extends({}, params, {\n        name: Array.isArray(name) ? name.join('.') : name\n      }))));\n    });\n    return Promise.all(promises).then(function (results) {\n      return results.find(function (item) {\n        return item && (item === null || item === void 0 ? void 0 : item.hasError);\n      });\n    });\n  };\n}\nexport default createValidatorAsync;","map":{"version":3,"names":["_extends","formatErrorMessage","createValidatorAsync","data","name","check","errorMessage","checkResult","hasError","array","value","rules","promises","map","rule","onValid","params","Promise","resolve","then","Array","isArray","join","all","results","find","item"],"sources":["/Users/ethanpineda/Desktop/Personal-Projects/Ethan-main/node_modules/schema-typed/es/utils/createValidatorAsync.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport formatErrorMessage from './formatErrorMessage';\n/**\n * Create a data asynchronous validator\n * @param data\n */\n\nexport function createValidatorAsync(data, name) {\n  function check(errorMessage) {\n    return function (checkResult) {\n      if (checkResult === false) {\n        return {\n          hasError: true,\n          errorMessage: errorMessage\n        };\n      } else if (typeof checkResult === 'object' && (checkResult.hasError || checkResult.array)) {\n        return checkResult;\n      }\n\n      return null;\n    };\n  }\n\n  return function (value, rules) {\n    var promises = rules.map(function (rule) {\n      var onValid = rule.onValid,\n          errorMessage = rule.errorMessage,\n          params = rule.params;\n      return Promise.resolve(onValid(value, data, name)).then(check(formatErrorMessage(errorMessage, _extends({}, params, {\n        name: Array.isArray(name) ? name.join('.') : name\n      }))));\n    });\n    return Promise.all(promises).then(function (results) {\n      return results.find(function (item) {\n        return item && (item === null || item === void 0 ? void 0 : item.hasError);\n      });\n    });\n  };\n}\nexport default createValidatorAsync;"],"mappings":"AAAA,OAAOA,QAAQ,MAAM,oCAAoC;AACzD,OAAOC,kBAAkB,MAAM,sBAAsB;AACrD;AACA;AACA;AACA;;AAEA,OAAO,SAASC,oBAAoB,CAACC,IAAI,EAAEC,IAAI,EAAE;EAC/C,SAASC,KAAK,CAACC,YAAY,EAAE;IAC3B,OAAO,UAAUC,WAAW,EAAE;MAC5B,IAAIA,WAAW,KAAK,KAAK,EAAE;QACzB,OAAO;UACLC,QAAQ,EAAE,IAAI;UACdF,YAAY,EAAEA;QAChB,CAAC;MACH,CAAC,MAAM,IAAI,OAAOC,WAAW,KAAK,QAAQ,KAAKA,WAAW,CAACC,QAAQ,IAAID,WAAW,CAACE,KAAK,CAAC,EAAE;QACzF,OAAOF,WAAW;MACpB;MAEA,OAAO,IAAI;IACb,CAAC;EACH;EAEA,OAAO,UAAUG,KAAK,EAAEC,KAAK,EAAE;IAC7B,IAAIC,QAAQ,GAAGD,KAAK,CAACE,GAAG,CAAC,UAAUC,IAAI,EAAE;MACvC,IAAIC,OAAO,GAAGD,IAAI,CAACC,OAAO;QACtBT,YAAY,GAAGQ,IAAI,CAACR,YAAY;QAChCU,MAAM,GAAGF,IAAI,CAACE,MAAM;MACxB,OAAOC,OAAO,CAACC,OAAO,CAACH,OAAO,CAACL,KAAK,EAAEP,IAAI,EAAEC,IAAI,CAAC,CAAC,CAACe,IAAI,CAACd,KAAK,CAACJ,kBAAkB,CAACK,YAAY,EAAEN,QAAQ,CAAC,CAAC,CAAC,EAAEgB,MAAM,EAAE;QAClHZ,IAAI,EAAEgB,KAAK,CAACC,OAAO,CAACjB,IAAI,CAAC,GAAGA,IAAI,CAACkB,IAAI,CAAC,GAAG,CAAC,GAAGlB;MAC/C,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC;IACF,OAAOa,OAAO,CAACM,GAAG,CAACX,QAAQ,CAAC,CAACO,IAAI,CAAC,UAAUK,OAAO,EAAE;MACnD,OAAOA,OAAO,CAACC,IAAI,CAAC,UAAUC,IAAI,EAAE;QAClC,OAAOA,IAAI,KAAKA,IAAI,KAAK,IAAI,IAAIA,IAAI,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,IAAI,CAAClB,QAAQ,CAAC;MAC5E,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;AACH;AACA,eAAeN,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}